import React, { useState } from 'react';

export default function PosterGenerator(){
  const [url, setUrl] = useState('');
  const [imgSrc, setImgSrc] = useState(null);
  const generate = async () => {
    const res = await fetch('/generate', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ url })
    });
    if (!res.ok) return alert('Gagal generate');
    const blob = await res.blob();
    setImgSrc(URL.createObjectURL(blob));
  };
  return (
    <div style={{padding:20}}>
      <h3>Generate Poster dari URL Berita</h3>
      <input placeholder="URL artikel" value={url} onChange={e=>setUrl(e.target.value)} style={{width:'80%'}} />
      <button onClick={generate}>Generate</button>
      {imgSrc && <div><h4>Hasil</h4><img src={imgSrc} style={{maxWidth:'320px'}} /></div>}
    </div>
  );
}
